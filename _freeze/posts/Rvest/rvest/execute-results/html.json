{
  "hash": "7b869a6765a7f9d1c8c3ebb33cdfb23c",
  "result": {
    "markdown": "---\ntitle: 'Rvest package fof Web Scraping'\ndate: '2022-06-01'\ncategories: ['123', 'Second Tag']\ndescription: 'Webscraping'\nexecute: \n  message: false\n  warning: false\neditor_options: \n  chunk_output_type: console\n---\n\n\n![](rvest.png)\n\n# Ethic Webscraping\n\nThe first thing we have to know is that the web sraping is a automatization of the webpages publiclky avaible information. There is a several legislations about this tecnique, like the [GDPR](https://gdpr.eu/) in Europe, in wich is delimeted for the Personal data or Personally Identifiablke Information (PII). So, we have to avoid the problematic question of the scraping personal data of european citizens and if we have to do it, follow the legals questions regarded in the GDPR.\n\nApart from the legal cuestion, it is impiortant to know that webscraping is technique that relantizes the servers of the companies if we do it very agressivly. Is for this that we have to priorice the APIs (Aplication Programminf Interface) avaiable for the webpages if there are. This aplications are prepared to dowload the information and don't disturb the normal function of the servers of the webpages.\\\n\\\nKnowing this information, we can start with the first of the 4 packages to webscraping information in R: Rvest.\n\n## First steps\n\nThe rvest package have his own [website](https://rvest.tidyverse.org/) and is avaiable the full documentation in the [CRAN](https://cran.r-project.org/web/packages/rvest/rvest.pdf) repository. Is a very easy package to use and to deal with, in wich the principal focus is in the html structure and there csss, tags or Xpaths between others. Lets try to do this easy tutorial with a [naiz.eus](https://www.naiz.eus/) webpage and the news that are avaiable.\n\n## 1 - Install the library\n\nLike always, we need install the pacakge.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"rvest\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nThe following package(s) will be installed:\n- rvest [1.0.3]\nThese packages will be installed into \"~/MEGAsync/Proyectos/Blog_1/renv/library/R-4.1/x86_64-pc-linux-gnu\".\n\n# Installing packages --------------------------------------------------------\n- Installing rvest ...                          OK [linked from cache]\nSuccessfully installed 1 package in 4.8 milliseconds.\n```\n:::\n:::\n\n\nOnce the package is installed, we need \"call\" the package to use their functions.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rvest)\nlibrary(tidyverse)\n```\n:::\n\n\n## 2 - Read the page\n\nFirst of all we need to read the page in pur local machine, is for this that we need to use read_html() function to save the html structure in the variable.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nNews_paper <- read_html(\"https://www.naiz.eus/\")\n\nprint(News_paper)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n{html_document}\n<html lang=\"eu\" xml:lang=\"eu\">\n[1] <head>\\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8 ...\n[2] <body>\\n<div data-controller=\"cookies\" data-cookies-content-value=\"&lt;h2 ...\n```\n:::\n:::\n\n\n## 3 - Find the CSS\n\nLike we see, we have the newspaper html structure in our variable. Once this is donne, we need to extract the css responsabile for the titles of the newspaper. For this task we can do it manually, clicking in the right button on the mouse and selecting the \"inspect\" option we can find manually the common css for all the titles of the articles.\n\n![](CSS_manually.png)\nWe can see that the common class or css por the articles is article, but if we move the mouse on the articles, we will see that the css us for all the article, no only the title. This way we need to split the article class to see how it the article divided in different classes to see what css is the correct one.\n\n![](CSS_manually_title.png)\nLike we see, the css \"article__title\" is our appropiate css we need to use to extract the title of the article. \n\nOther way to do this more easy, is to install add ons we can use for this task (I use [SelectorHub](#0) for Firefox and [Selectorgadget](#0) for chrome navigator). This way we can select easier the css we want to dowload. In our case is\n\n## 4 - Extract the titles\n\nFirst of all we have to ensure that our css is apropuiate. For this lets try first to extract the first title. For this, first we have to stablish the csss like a node in wich we want extract and then extract the text of the node we determinate. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nNews_paper_title <- News_paper %>% html_node(\".article__title\") %>% html_text()\nprint(News_paper_title)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"\\n      Un avión militar ruso con 65 presos a bordo, derribado por un misil ucraniano\\n      \\n    \"\n```\n:::\n:::\n\n\nWe can see the the first title of the webpage, lets see if how we can get the second one. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nNews_paper_title_second <- News_paper %>% html_node(\".article__title:nth-child(2)\") %>% html_text()\nprint(News_paper_title)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"\\n      Un avión militar ruso con 65 presos a bordo, derribado por un misil ucraniano\\n      \\n    \"\n```\n:::\n:::\n\n\nWe can access to the \"childs\" of the css this way.\n\nNow, we want all the titles toguether in one variable. Lets try to find trought the SelectorGadget in google chrome. For this goal we need to find apropiate css selecting with the add on. Once we see all the titles selected, we can try if all is correct with the selected css.  \n\n![](CSS_selector.png)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nNews_paper_titles <- News_paper %>% html_nodes(\".article__title a\") %>% html_text()\nNews_paper_titles\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Un avión militar ruso con 65 presos a bordo, derribado por un misil ucraniano\"                                        \n [2] \"«Europar Parlamentuan ‘autodefentsa’ deitzen diote Israelen genozidioari»\"                                            \n [3] \"«A la espera de medidas concretas», los agricultores sellan los accesos a Baiona\"                                     \n [4] \"Donostiako Auzitegietako laborategia 36ko gerrako desagertuak identifikatzeko erabiliko du EHUk\"                      \n [5] \"Sexu heziketa, BECen mintzagai: «Denaren errua ez diezaiogun pornoari bota»\"                                          \n [6] \"\\n        Otxandiano defiende el «espacio de colaboración» navarro y que gobierne su fuerza más votada \\n        \\n\"  \n [7] \"\\n        «Legeak indarrean badaude ez dago ezohiko espetxe politikarik; Gobernuak ez ditu aldatuko»\\n        \\n\"     \n [8] \"\\n        25 urte pasata eta Geresta tartean sartuta hasi dira epaitzen Zamarreñoren hilketa\\n        \\n\"             \n [9] \"\\n        Denuncian una agresión sexual en el ámbito laboral a una trabajadora en Agurain\\n        \\n\"                \n[10] \"Una historia vasca sobre la discriminación en el empleo por razón de convicciones \"                                   \n[11] \"\\n        Pablo Gonzalezen atxiloketaren bigarren urteurrenean mobilizazioa egingo dute, otsailaren 28an\\n        \\n\" \n[12] \"\\n        La Diputación de Gipuzkoa desmiente haber enviado lixiviados «ecotóxicos» a Nafarroa\\n        \\n\"           \n[13] \"\\n        Las Juntas de Araba demandan recuperar las Urgencias de Santiago y San Martín en Gasteiz\\n        \\n\"       \n[14] \"\\n        Gracias\\n        \\n\"                                                                                        \n[15] \"\\n        TikTok ya es la red social más utilizada por los alumnos de las ikastolas navarras \\n        \\n\"            \n[16] \"Impugnar un sinsentido requiere valentía\"                                                                             \n[17] \"\\n        «Eskualdeko hizkuntzetako azterketak egonkortzeko» deia frantziar Hezkuntza ministro berriari\\n        \\n\"  \n[18] \"\\n        Piden que se aplique ya el desamiantado en Nafarroa, porque se juega «con la vida de la gente»\\n        \\n\" \n[19] \"\\n        Oharkabean\\n        \\n\"                                                                                     \n[20] \"\\n        Lakua «acuerda la rescisión» del contrato de los comedores escolares con Serunion \\n        \\n\"             \n[21] \"\\n        Más de 4.500 estudiantes y 230 profesores muertos desde el inicio del ataque de Israel a Gaza\\n        \\n\"  \n[22] \"\\n        El Gobierno español no envía al juez los documentos requeridos sobre el espionaje a Aragonès\\n        \\n\"   \n[23] \"\\n        Vuelos cancelados, bancos cerrados y una multitud frente al Congreso contra los planes de Milei\\n        \\n\"\n[24] \"\\n        La obra para soterrar el Topo entre Altza y Errenteria alcanza su ecuador\\n        \\n\"                      \n[25] \"Lenin gogoan\"                                                                                                         \n[26] \"\\n        ‘Energiaren puntua’ sortu du D2030 ekimenak, energia komunitateak sustatzeko bulegoa \\n        \\n\"          \n[27] \"\\n        El autobús del Athletic llega a San Mamés impulsado por la afición rojiblanca\\n        \\n\"                  \n[28] \"\\n        La Real confirma la cesión del lateral Javi Galán, procedente del Atlético\\n        \\n\"                     \n[29] \"\\n        Arrasate no podrá contar con Chimy Ávila para el duelo del domingo en el Pizjuán\\n        \\n\"               \n[30] \"\\n        Palestinako futbol selekzioak historia egin du, Asia Kopako final-zortzinenetarako sailkatuta\\n        \\n\"  \n[31] \"\\n        El atacante Abde Rebbach prolonga cuatro años más su contrato con el Alavés, hasta 2028\\n        \\n\"        \n[32] \"\\n        ‘Euskararen baloia’ ekimenaren edizio berriari hasiera eman dio Eibarrek\\n        \\n\"                       \n[33] \"\\n        Kilian Jornetek eta Zach Millerrek eliteko korrikalariei eskatu diete UTMB-i boikota egitea\\n        \\n\"    \n[34] \"\\n        Bilbao Basket ya sabe lo que es perder en Europa y lía un tanto su pase a cuartos (82-80)\\n        \\n\"      \n[35] \"\\n        Saski Baskonia se hace con Jordan Theodore, al fin el segundo base que se buscaba\\n        \\n\"              \n[36] \"\\n        ‘Robot Dreams’, de Berger, entra en unas nominaciones a los Óscar lideradas por ‘Oppenheimer’\\n        \\n\"  \n[37] \"\\n        ‘Ama’ diskoa aurkeztu du Tenpora taldeak, sei abesti berriz osatutako lana\\n        \\n\"                     \n[38] \"\\n        AEBetako western garaikidea du aztergai Nosferatu bildumako argitalpen berriak\\n        \\n\"                 \n[39] \"\\n        Primeras secuencias de ‘Detective Touré’, la serie basada en las novelas de Jon Arretxe\\n        \\n\"        \n[40] \"\\n        Hego Euskal Herriko zinema komertzialetan euskararen presentzia oso urria da: %2,48\\n        \\n\"            \n[41] \"\\n        «Erresilientzia ez da presioa jasatea soilik, baizik eta esperientzietatik indartuta ateratzea»\\n        \\n\"\n[42] \"\\n        Getariatik mundura: Cristobal Balenciaga\\n        \\n\"                                                       \n[43] \"\\n        «Beldur naiz, akordio zabalen alde, abertzaletasuna alboratzen ari ez ote garen»\\n        \\n\"               \n[44] \"\\n        Zetaren Bideko hirietan zehar\\n        \\n\"                                                                  \n[45] \"\\n        Urederra, harribitxi urdin turkesa, Urbasa mendilerroan\\n        \\n\"                                        \n[46] \"\\n        Palermo, Siziliaren sintesia\\n        \\n\"                                                                   \n[47] \"\\n        Zineman euskarak ez du ia tokirik, %2,48 Hego Euskal Herrian\\n        \\n\"                                   \n```\n:::\n:::\n\n\nNow we can use one of multiples packages avaible to clean the text, but to do it simple, we can do it ease witn the function gsub()-\n\n\n::: {.cell}\n\n```{.r .cell-code}\nNews_paper_titles <- gsub(\"\\n        \\n|\\n        \",\"\",News_paper_titles)\nNews_paper_titles\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Un avión militar ruso con 65 presos a bordo, derribado por un misil ucraniano\"                  \n [2] \"«Europar Parlamentuan ‘autodefentsa’ deitzen diote Israelen genozidioari»\"                      \n [3] \"«A la espera de medidas concretas», los agricultores sellan los accesos a Baiona\"               \n [4] \"Donostiako Auzitegietako laborategia 36ko gerrako desagertuak identifikatzeko erabiliko du EHUk\"\n [5] \"Sexu heziketa, BECen mintzagai: «Denaren errua ez diezaiogun pornoari bota»\"                    \n [6] \"Otxandiano defiende el «espacio de colaboración» navarro y que gobierne su fuerza más votada \"  \n [7] \"«Legeak indarrean badaude ez dago ezohiko espetxe politikarik; Gobernuak ez ditu aldatuko»\"     \n [8] \"25 urte pasata eta Geresta tartean sartuta hasi dira epaitzen Zamarreñoren hilketa\"             \n [9] \"Denuncian una agresión sexual en el ámbito laboral a una trabajadora en Agurain\"                \n[10] \"Una historia vasca sobre la discriminación en el empleo por razón de convicciones \"             \n[11] \"Pablo Gonzalezen atxiloketaren bigarren urteurrenean mobilizazioa egingo dute, otsailaren 28an\" \n[12] \"La Diputación de Gipuzkoa desmiente haber enviado lixiviados «ecotóxicos» a Nafarroa\"           \n[13] \"Las Juntas de Araba demandan recuperar las Urgencias de Santiago y San Martín en Gasteiz\"       \n[14] \"Gracias\"                                                                                        \n[15] \"TikTok ya es la red social más utilizada por los alumnos de las ikastolas navarras \"            \n[16] \"Impugnar un sinsentido requiere valentía\"                                                       \n[17] \"«Eskualdeko hizkuntzetako azterketak egonkortzeko» deia frantziar Hezkuntza ministro berriari\"  \n[18] \"Piden que se aplique ya el desamiantado en Nafarroa, porque se juega «con la vida de la gente»\" \n[19] \"Oharkabean\"                                                                                     \n[20] \"Lakua «acuerda la rescisión» del contrato de los comedores escolares con Serunion \"             \n[21] \"Más de 4.500 estudiantes y 230 profesores muertos desde el inicio del ataque de Israel a Gaza\"  \n[22] \"El Gobierno español no envía al juez los documentos requeridos sobre el espionaje a Aragonès\"   \n[23] \"Vuelos cancelados, bancos cerrados y una multitud frente al Congreso contra los planes de Milei\"\n[24] \"La obra para soterrar el Topo entre Altza y Errenteria alcanza su ecuador\"                      \n[25] \"Lenin gogoan\"                                                                                   \n[26] \"‘Energiaren puntua’ sortu du D2030 ekimenak, energia komunitateak sustatzeko bulegoa \"          \n[27] \"El autobús del Athletic llega a San Mamés impulsado por la afición rojiblanca\"                  \n[28] \"La Real confirma la cesión del lateral Javi Galán, procedente del Atlético\"                     \n[29] \"Arrasate no podrá contar con Chimy Ávila para el duelo del domingo en el Pizjuán\"               \n[30] \"Palestinako futbol selekzioak historia egin du, Asia Kopako final-zortzinenetarako sailkatuta\"  \n[31] \"El atacante Abde Rebbach prolonga cuatro años más su contrato con el Alavés, hasta 2028\"        \n[32] \"‘Euskararen baloia’ ekimenaren edizio berriari hasiera eman dio Eibarrek\"                       \n[33] \"Kilian Jornetek eta Zach Millerrek eliteko korrikalariei eskatu diete UTMB-i boikota egitea\"    \n[34] \"Bilbao Basket ya sabe lo que es perder en Europa y lía un tanto su pase a cuartos (82-80)\"      \n[35] \"Saski Baskonia se hace con Jordan Theodore, al fin el segundo base que se buscaba\"              \n[36] \"‘Robot Dreams’, de Berger, entra en unas nominaciones a los Óscar lideradas por ‘Oppenheimer’\"  \n[37] \"‘Ama’ diskoa aurkeztu du Tenpora taldeak, sei abesti berriz osatutako lana\"                     \n[38] \"AEBetako western garaikidea du aztergai Nosferatu bildumako argitalpen berriak\"                 \n[39] \"Primeras secuencias de ‘Detective Touré’, la serie basada en las novelas de Jon Arretxe\"        \n[40] \"Hego Euskal Herriko zinema komertzialetan euskararen presentzia oso urria da: %2,48\"            \n[41] \"«Erresilientzia ez da presioa jasatea soilik, baizik eta esperientzietatik indartuta ateratzea»\"\n[42] \"Getariatik mundura: Cristobal Balenciaga\"                                                       \n[43] \"«Beldur naiz, akordio zabalen alde, abertzaletasuna alboratzen ari ez ote garen»\"               \n[44] \"Zetaren Bideko hirietan zehar\"                                                                  \n[45] \"Urederra, harribitxi urdin turkesa, Urbasa mendilerroan\"                                        \n[46] \"Palermo, Siziliaren sintesia\"                                                                   \n[47] \"Zineman euskarak ez du ia tokirik, %2,48 Hego Euskal Herrian\"                                   \n```\n:::\n:::\n\n\n\nLets complciate the work I little bit more. Lets try now to extract the urls for each new and the autor of the articles in the newsdpaper. Same as before, we try to find manually and by the gadget the article author.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nNews_paper_authors <- News_paper %>% html_nodes(\".article__author\") %>% html_text()\n\nNews_paper_authors\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n [2] \"Koldo Sagasti\"                                                                                                                                                                                                                                                                                          \n [3] \"Maite Ubiria\"                                                                                                                                                                                                                                                                                           \n [4] \"Maddi Txintxurreta\"                                                                                                                                                                                                                                                                                     \n [5] \"Nerea Lauzirika\"                                                                                                                                                                                                                                                                                        \n [6] \"Ramón Sola\"                                                                                                                                                                                                                                                                                             \n [7] \"Peli Lekuona\"                                                                                                                                                                                                                                                                                           \n [8] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n [9] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n[10] \"\\n      Iñigo Santxo, Eli Moral, Arantza Isasmendi, Bea Ilardia, Sergey Aresti, Mirian Campos, Alfonso Atela, Ziortza Arrien, Iñigo Urrutia, Bego Atxa, Joxean Lozano, Idoia Gutierrez, Jon Artatxo, Endika Garai y Xabier Sainz de la Maza  \\n      Erabakizaleak, juristas por el derecho a decidir\\n\"\n[11] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n[12] \"Iñaki  Iriondo\"                                                                                                                                                                                                                                                                                         \n[13] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n[14] \"\\n      Koldo Campos\\n    \"                                                                                                                                                                                                                                                                             \n[15] \"Koldo Campos\"                                                                                                                                                                                                                                                                                           \n[16] \"Aritz Intxusta\"                                                                                                                                                                                                                                                                                         \n[17] \"Editoriala\"                                                                                                                                                                                                                                                                                             \n[18] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n[19] \"Pello Guerra\"                                                                                                                                                                                                                                                                                           \n[20] \"\\n      Maider Eizmendi\\n    \"                                                                                                                                                                                                                                                                          \n[21] \"Maider Eizmendi\"                                                                                                                                                                                                                                                                                        \n[22] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n[23] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n[24] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n[25] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n[26] \"Imanol Intziarte\"                                                                                                                                                                                                                                                                                       \n[27] \"\\n      Andoni Olariaga Azkarate \\n      Iratzar fundazioko kidea\\n\"                                                                                                                                                                                                                                    \n[28] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n[29] \"Manex Altuna\"                                                                                                                                                                                                                                                                                           \n[30] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n[31] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n[32] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n[33] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n[34] \"Amaia  U. Lasagabaster\"                                                                                                                                                                                                                                                                                 \n[35] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n[36] \"Arnaitz Gorriti\"                                                                                                                                                                                                                                                                                        \n[37] \"Arnaitz Gorriti\"                                                                                                                                                                                                                                                                                        \n[38] \"Koldo Landaluze\"                                                                                                                                                                                                                                                                                        \n[39] \"Iraitz Mateo\"                                                                                                                                                                                                                                                                                           \n[40] \"NAIZ\"                                                                                                                                                                                                                                                                                                   \n[41] \"Koldo Landaluze\"                                                                                                                                                                                                                                                                                        \n[42] \"Iraitz Mateo\"                                                                                                                                                                                                                                                                                           \n[43] \"Bigarren Kafea\"                                                                                                                                                                                                                                                                                         \n[44] \"NAIZ irratia\"                                                                                                                                                                                                                                                                                           \n[45] \"NAIZ irratia\"                                                                                                                                                                                                                                                                                           \n[46] \"Testua: Juanma COSTOYA Argazkiak: J.C. eta Getty Images\"                                                                                                                                                                                                                                                \n[47] \"Testua: Eli Txapartegi. Argazkiak: Getty Images\"                                                                                                                                                                                                                                                        \n[48] \"Testua eta argazkiak: Xabier BAÑUELOS\"                                                                                                                                                                                                                                                                  \n[49] \"IRAITZ MATEO\"                                                                                                                                                                                                                                                                                           \n```\n:::\n:::\n\n\n\n\n### 3 - Tabsets\n\n\n::: {.cell}\n\n:::\n\n\n::: panel-tabset\n### Transforming OLS estimates\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\npreds_lm %>% \n  ggplot(aes(body_mass_g, bill_length_mm, col = correct)) +\n  geom_jitter(size = 4, alpha = 0.6) +\n  facet_wrap(vars(species)) +\n  scale_color_manual(values = c('grey60', thematic::okabe_ito(3)[3])) +\n  scale_x_continuous(breaks = seq(3000, 6000, 1000)) +\n  theme_minimal(base_size = 12) +\n  theme(\n    legend.position = 'top', \n    panel.background = element_rect(color = 'black'),\n    panel.grid.minor = element_blank()\n  ) +\n  labs(\n    x = 'Body mass (in g)',\n    y = 'Bill length (in mm)'\n  )\n```\n\n::: {.cell-output-display}\n![](rvest_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n### Maximizing likelihood\n\n\n::: {.cell fig.showtext='false'}\n\n```{.r .cell-code  code-fold=\"true\"}\nglm.mod <- glm(sex ~ body_mass_g + bill_length_mm + species, family = binomial, data = dat)\n\npreds <- dat %>% \n  mutate(\n    prob.fit = glm.mod$fitted.values,\n    prediction = if_else(prob.fit > 0.5, 'male', 'female'),\n    correct = if_else(sex == prediction, 'correct', 'incorrect')\n  )\n\n\npreds %>% \n  ggplot(aes(body_mass_g, bill_length_mm, col = correct)) +\n  geom_jitter(size = 4, alpha = 0.6) +\n  facet_wrap(vars(species)) +\n  scale_x_continuous(breaks = seq(3000, 6000, 1000)) +\n  scale_color_manual(values = c('grey60', thematic::okabe_ito(3)[3])) +\n  theme_minimal(base_size = 10) +\n  theme(\n    legend.position = 'top', \n    panel.background = element_rect(color = 'black'),\n    panel.grid.minor = element_blank()\n  ) +\n  labs(\n    x = 'Body mass (in g)',\n    y = 'Bill length (in mm)'\n  )\n```\n\n::: {.cell-output-display}\n![](rvest_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n:::\n\n#### 4 - Some math stuff\n\n$$\n\\int_0^1 f(x) \\ dx\n$$\n\n## 2 - Columns\n\n::: {layout=\"[[1,1]]\"}\n\n::: {.cell fig.showtext='false'}\n\n```{.r .cell-code}\ngeom_density(\n  mapping = NULL,\n  data = NULL,\n  stat = \"density\",\n  position = \"identity\",\n  ...,\n  na.rm = FALSE,\n  orientation = NA,\n  show.legend = NA,\n  inherit.aes = TRUE,\n  outline.type = \"upper\"\n)\n```\n:::\n\n::: {.cell fig.showtext='false'}\n\n```{.r .cell-code}\nstat_density(\n  mapping = NULL,\n  data = NULL,\n  geom = \"area\",\n  position = \"stack\",\n  ...,\n  bw = \"nrd0\",\n  adjust = 1,\n  kernel = \"gaussian\",\n  n = 512,\n  trim = FALSE,\n  na.rm = FALSE,\n  orientation = NA,\n  show.legend = NA,\n  inherit.aes = TRUE\n)\n```\n:::\n\n:::\n\n## 2 - Margin captions\n\n\n::: {.cell .fig-cap-location-margin fig.showtext='false'}\n\n```{.r .cell-code}\nggplot(data = gapminder::gapminder, mapping = aes(x = lifeExp, fill = continent)) +\n  stat_density(position = \"identity\", alpha = 0.5)\n```\n\n::: {.cell-output-display}\n![Bla bla bla. This is a caption in the margin. Super cool isn't it?](rvest_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "rvest_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}