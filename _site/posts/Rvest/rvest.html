<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Aritz Gorostiza">
<meta name="dcterms.date" content="2022-06-01">
<meta name="description" content="Webscraping">

<title>Aritz Gorostiza - Rvest package fof Web Scraping: Newspaper example</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Aritz Gorostiza</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">Aritz Gorostiza</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#ethic-webscraping" id="toc-ethic-webscraping" class="nav-link active" data-scroll-target="#ethic-webscraping">Ethic Webscraping</a>
  <ul class="collapse">
  <li><a href="#first-steps" id="toc-first-steps" class="nav-link" data-scroll-target="#first-steps">First steps</a></li>
  <li><a href="#install-and-load-the-library" id="toc-install-and-load-the-library" class="nav-link" data-scroll-target="#install-and-load-the-library">1 - Install and load the library</a></li>
  <li><a href="#read-the-page" id="toc-read-the-page" class="nav-link" data-scroll-target="#read-the-page">2 - Read the page</a></li>
  <li><a href="#find-the-css" id="toc-find-the-css" class="nav-link" data-scroll-target="#find-the-css">3 - Find the CSS</a></li>
  <li><a href="#extract-the-css-information" id="toc-extract-the-css-information" class="nav-link" data-scroll-target="#extract-the-css-information">4 - Extract the css information</a></li>
  <li><a href="#activities" id="toc-activities" class="nav-link" data-scroll-target="#activities">5 - Activities</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Rvest package fof Web Scraping: Newspaper example</h1>
  <div class="quarto-categories">
    <div class="quarto-category">123</div>
    <div class="quarto-category">Second Tag</div>
  </div>
  </div>

<div>
  <div class="description">
    Webscraping
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Aritz Gorostiza </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 1, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p><img src="rvest.png" class="img-fluid"></p>
<section id="ethic-webscraping" class="level1">
<h1>Ethic Webscraping</h1>
<p>The first thing we have to know is that the web sraping is a automatization of the webpages publiclky avaible information. There is a several legislations about this tecnique, like the <a href="https://gdpr.eu/">GDPR</a> in Europe, in wich is delimeted for the Personal data or Personally Identifiablke Information (PII). So, we have to avoid the problematic question of the scraping personal data of european citizens and if we have to do it, follow the legals questions regarded in the GDPR.</p>
<p>Apart from the legal cuestion, it is impiortant to know that webscraping is technique that relantizes the servers of the companies if we do it very agressivly. Is for this that we have to priorice the APIs (Aplication Programminf Interface) avaiable for the webpages if there are. This aplications are prepared to dowload the information and don’t disturb the normal function of the servers of the webpages.<br>
<br>
Knowing this information, we can start with the first of the 4 packages to webscraping information in R: Rvest.</p>
<section id="first-steps" class="level2">
<h2 class="anchored" data-anchor-id="first-steps">First steps</h2>
<p>The rvest package have his own <a href="https://rvest.tidyverse.org/">website</a> and is avaiable the full documentation in the <a href="https://cran.r-project.org/web/packages/rvest/rvest.pdf">CRAN</a> repository. Is a very easy package to use and to deal with, in wich the principal focus is in the html structure and there csss, tags or Xpaths between others. Lets try to do this easy tutorial with a <a href="https://www.naiz.eus/">naiz.eus</a> webpage and the news that are avaiable.</p>
</section>
<section id="install-and-load-the-library" class="level2">
<h2 class="anchored" data-anchor-id="install-and-load-the-library">1 - Install and load the library</h2>
<p>Like always, we need install the pacakge.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"rvest"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The following package(s) will be installed:
- rvest [1.0.3]
These packages will be installed into "~/MEGAsync/Proyectos/Blog_1/renv/library/R-4.1/x86_64-pc-linux-gnu".

# Installing packages --------------------------------------------------------
- Installing rvest ...                          OK [linked from cache]
Successfully installed 1 package in 8 milliseconds.</code></pre>
</div>
</div>
<p>Once the package is installed, we need “call” the package to use their functions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="read-the-page" class="level2">
<h2 class="anchored" data-anchor-id="read-the-page">2 - Read the page</h2>
<p>First of all we need to read the page in pur local machine, is for this that we need to use read_html() function to save the html structure in the variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>News_paper <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">"https://www.naiz.eus/"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(News_paper)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{html_document}
&lt;html lang="eu" xml:lang="eu"&gt;
[1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
[2] &lt;body&gt;\n&lt;div data-controller="cookies" data-cookies-content-value="&amp;lt;h2 ...</code></pre>
</div>
</div>
</section>
<section id="find-the-css" class="level2">
<h2 class="anchored" data-anchor-id="find-the-css">3 - Find the CSS</h2>
<p>Like we see, we have the newspaper html structure in our variable. Once this is donne, we need to extract the css responsabile for the titles of the newspaper. For this task we can do it manually, clicking in the right button on the mouse and selecting the “inspect” option we can find manually the common css for all the titles of the articles.</p>
<p><img src="CSS_manually.png" class="img-fluid"> We can see that the common class or css por the articles is article, but if we move the mouse on the articles, we will see that the css us for all the article, no only the title. This way we need to split the article class to see how it the article divided in different classes to see what css is the correct one. We will see something like this image, in wich each article is separated in different css</p>
<p><img src="CSS_manually_title.png" class="img-fluid"> Like we see, the css “article__title” is our appropiate css we need to use to extract the title of the article.</p>
<p>Other way to do this more easy, is to install add ons we can use for this task (I use <a href="#0">SelectorHub</a> for Firefox and <a href="#0">Selectorgadget</a> for chrome navigator). This way we can select easier the css we want to dowload. In our case is</p>
</section>
<section id="extract-the-css-information" class="level2">
<h2 class="anchored" data-anchor-id="extract-the-css-information">4 - Extract the css information</h2>
<p>First of all we have to ensure that our css is apropuiate. For this lets try first to extract the first title. For this, first we have to stablish the csss like a node in wich we want extract and then extract the text of the node we determinate.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>News_paper_title <span class="ot">&lt;-</span> News_paper <span class="sc">%&gt;%</span> <span class="fu">html_node</span>(<span class="st">".article__title"</span>) <span class="sc">%&gt;%</span> <span class="fu">html_text</span>()</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(News_paper_title)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "\n      Migrazio Legearen hainbat neurri atzera bota ditu Kontseilu Konstituzionalak\n      \n    "</code></pre>
</div>
</div>
<p>We can see the the first title of the webpage, lets see if how we can get the second one.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>News_paper_title_second <span class="ot">&lt;-</span> News_paper <span class="sc">%&gt;%</span> <span class="fu">html_node</span>(<span class="st">".article__title:nth-child(2)"</span>) <span class="sc">%&gt;%</span> <span class="fu">html_text</span>()</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(News_paper_title)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "\n      Migrazio Legearen hainbat neurri atzera bota ditu Kontseilu Konstituzionalak\n      \n    "</code></pre>
</div>
</div>
<p>We can access to the “childs” of the css this way.</p>
<p>Now, we want all the titles toguether in one variable. Lets try to find trought the SelectorGadget in google chrome. For this goal we need to find apropiate css selecting with the add on. Once we see all the titles selected, we can try if all is correct with the selected css.</p>
<p><img src="CSS_selector.png" class="img-fluid"></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>News_paper_titles <span class="ot">&lt;-</span> News_paper <span class="sc">%&gt;%</span> <span class="fu">html_nodes</span>(<span class="st">".article__title a"</span>) <span class="sc">%&gt;%</span> <span class="fu">html_text</span>()</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>News_paper_titles</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Migrazio Legearen hainbat neurri atzera bota ditu Kontseilu Konstituzionalak"                                         
 [2] "Nafarroa reitera que a la empresa de Artaxoa no se enviaban lodos desde Zubieta, sino líquidos"                       
 [3] "TJUE: el plazo para reclamar los gastos hipotecarios empieza cuando el cliente conoce el fraude"                      
 [4] "Williams anaien kondairaren azken pasartea, Hollywoodeko gidoi baterako aproposa"                                     
 [5] "‘Hijas del fuego’, una miniserie sobre la caza de brujas en Zugarramurdi"                                             
 [6] "\n        La Diputación de Bizkaia contradice a Urkullu: los dos años son para ver cómo será el museo\n        \n"    
 [7] "\n        EH Bildu alcanza con PSE y PNV un pacto presupuestario en Gasteiz por 6 millones de euros\n        \n"      
 [8] "\n        Joseba Diez hautagai gisa babestu dute EAJren afiliatuek, zuzendaritzak proposatu ez bazuen ere\n        \n"
 [9] "\n        Solo el PP no quiere dar pasos hacia la declaración de Donostia como ciudad tensionada\n        \n"         
[10] "Proyecto BCC en Gros-Ulía, ¿capricho o cabezonería de los cocineros estrellas?"                                       
[11] "\n        PNV y PSE impiden debatir una moción de urgencia sobre la tala de árboles en Gros\n        \n"              
[12] "\n        Más de 96.000 personas están en riesgo de pobreza en Nafarroa, casi una de cada seis\n        \n"           
[13] "\n        Denuncian un «trato indigno» hacia personas sin hogar en las Urgencias Sociales de Bilbo\n        \n"       
[14] "\n        Lanik gabe dauden gazteen %72k 2024an lana aurkituko duela uste du\n        \n"                             
[15] "\n        Fallece una persona en un choque frontal cerca del alto de Gaintxurizketa\n        \n"                      
[16] "\n        Aniztasuna\n        \n"                                                                                     
[17] "\n        La fiscal mantiene la petición de casi quince años para los acusados por la paliza de Zornotza\n        \n" 
[18] "\n        «Instituzioen logika XX. mendekoa da: bidea egin baino gehiago, bidea urratu egin behar da»\n        \n"    
[19] "\n        Astigarraga eta Hernanik bisitariei zuzendutako mezua: «Ez da sagardoa, zu zara. Hartu ardura!»\n        \n"
[20] "\n        Gorrotxategi se postula a las primarias en Podemos sin acuerdo aún con el resto de fuerzas\n        \n"     
[21] "\n        Esparza dice que la adjudicación de Belate «apesta» y el Gobierno defiende su legalidad\n        \n"        
[22] "\n        La FNSEA reclama una moratoria en la prohibición de usar pesticidas\n        \n"                            
[23] "\n        Los bomberos de Donostia acuden al Pleno para denunciar que no han mejorado sus condiciones\n        \n"    
[24] "\n        LAB denuncia la escasez de uniformes, sábanas y mantas en el hospital de Basurto\n        \n"               
[25] "\n        Sindicatos se concentran en Gasteiz para pedir que se cumplan las medidas de salud laboral\n        \n"     
[26] "\n        Gazako biztanleriaren erdia baino gehiago Rafahn pilatuta dago, NBEren arabera\n        \n"                 
[27] "Gaza: encendamos la luz de la solidaridad"                                                                            
[28] "\n        Migrazio legearen alde bozkatu zuten hautetsien argazkiekin afitxak jarri ditu Bizi!k\n        \n"          
[29] "\n        El juez no descarta el «ánimo homicida» en la causa de Tsunami para evitar la Ley de Amnistía\n        \n"  
[30] "\n        Las milicias iraquíes proiraníes instan a extender sus ataques al Mediterráneo\n        \n"                 
[31] "\n        El BCE mantiene los tipos de interés en el 4,5% por tercera vez consecutiva\n        \n"                    
[32] "\n        Las lentejas, el tocino y la velocidad\n        \n"                                                         
[33] "\n        Un niño sordo escucha por primera vez tras un innovador tratamiento génico en EEUU\n        \n"             
[34] "\n        Elurra bezain zuria: ezohiko pinguino bat Antartikan\n        \n"                                           
[35] "\n        Los hermanos Williams llegan a tiempo y desatan la locura en San Mamés (4-2)\n        \n"                   
[36] "\n        La AN propone juzgar a Luis Rubiales por el beso «no consentido» a Jenni Hermoso\n        \n"               
[37] "\n        La Real confirma la cesión del lateral Javi Galán, procedente del Atlético\n        \n"                     
[38] "\n        Nicolás Alustiza, ilusionado tras sus primeros días como ciclista profesional con el Euskaltel\n        \n" 
[39] "\n        ‘Euskararen baloia’ ekimenaren edizio berriari hasiera eman dio Eibarrek\n        \n"                       
[40] "\n        Kilian Jornetek eta Zach Millerrek eliteko korrikalariei eskatu diete UTMB-i boikota egitea\n        \n"    
[41] "\n        Jordan Theodore, tardío regalo navideño que viene para que Baskonia sea mejor equipo\n        \n"           
[42] "\n        Bilbao Basket ya sabe lo que es perder en Europa y lía un tanto su pase a cuartos (82-80)\n        \n"      
[43] "\n        «Lokalean bertsioekin jolasean hasi eta disko bat osatzeko erronka bete dugu»\n        \n"                  
[44] "dFeria cumple 30 años con Italia como país invitado, bajo el lema ‘Utopía’"                                           
[45] "\n        Musika Bulegoa: «2023a urte ona izan da zuzeneko musikarentzat»\n        \n"                                
[46] "\n        ‘Ama’ diskoa aurkeztu du Tenpora taldeak, sei abesti berriz osatutako lana\n        \n"                     
[47] "Isabel Azkaratek artearekin eta sortzaileekin duen harremanaren lekuko da San Telmo"                                  
[48] "Atzar Hadi! ikuskizuna Oialume Biltokian"                                                                             
[49] "Jon Gurrutxaga Marruma Kulturaletan"                                                                                  
[50] "Letagin eta Nevadah indarrak batuz Ondarrun"                                                                          
[51] "Lausoka Txantreako Akelarre elkartean"                                                                                
[52] "Musikagaz Fest! jaialdiaren bigarren edizioa egingo dute Zornotzan"                                                   
[53] "\n        «Erresilientzia ez da presioa jasatea soilik, baizik eta esperientzietatik indartuta ateratzea»\n        \n"
[54] "\n        Getariatik mundura: Cristobal Balenciaga\n        \n"                                                       
[55] "\n        «Beldur naiz, akordio zabalen alde, abertzaletasuna alboratzen ari ez ote garen»\n        \n"               
[56] "\n        Kaiman uharteak; finantzak, hondartzak eta askoz gehiago\n        \n"                                       
[57] "\n        Zetaren Bideko hirietan zehar\n        \n"                                                                  
[58] "\n        Urederra, harribitxi urdin turkesa, Urbasa mendilerroan\n        \n"                                        
[59] "\n        «Lokalean bertsioekin jolasean hasi eta disko bat osatzeko erronka bete dugu»\n        \n"                  </code></pre>
</div>
</div>
<p>Now we can use one of multiples packages avaible to clean the text, but to do it simple, we can do it ease witn the function gsub()</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>News_paper_titles <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">        </span><span class="sc">\n</span><span class="st">|</span><span class="sc">\n</span><span class="st">        "</span>,<span class="st">""</span>,News_paper_titles)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>News_paper_titles</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Migrazio Legearen hainbat neurri atzera bota ditu Kontseilu Konstituzionalak"                   
 [2] "Nafarroa reitera que a la empresa de Artaxoa no se enviaban lodos desde Zubieta, sino líquidos" 
 [3] "TJUE: el plazo para reclamar los gastos hipotecarios empieza cuando el cliente conoce el fraude"
 [4] "Williams anaien kondairaren azken pasartea, Hollywoodeko gidoi baterako aproposa"               
 [5] "‘Hijas del fuego’, una miniserie sobre la caza de brujas en Zugarramurdi"                       
 [6] "La Diputación de Bizkaia contradice a Urkullu: los dos años son para ver cómo será el museo"    
 [7] "EH Bildu alcanza con PSE y PNV un pacto presupuestario en Gasteiz por 6 millones de euros"      
 [8] "Joseba Diez hautagai gisa babestu dute EAJren afiliatuek, zuzendaritzak proposatu ez bazuen ere"
 [9] "Solo el PP no quiere dar pasos hacia la declaración de Donostia como ciudad tensionada"         
[10] "Proyecto BCC en Gros-Ulía, ¿capricho o cabezonería de los cocineros estrellas?"                 
[11] "PNV y PSE impiden debatir una moción de urgencia sobre la tala de árboles en Gros"              
[12] "Más de 96.000 personas están en riesgo de pobreza en Nafarroa, casi una de cada seis"           
[13] "Denuncian un «trato indigno» hacia personas sin hogar en las Urgencias Sociales de Bilbo"       
[14] "Lanik gabe dauden gazteen %72k 2024an lana aurkituko duela uste du"                             
[15] "Fallece una persona en un choque frontal cerca del alto de Gaintxurizketa"                      
[16] "Aniztasuna"                                                                                     
[17] "La fiscal mantiene la petición de casi quince años para los acusados por la paliza de Zornotza" 
[18] "«Instituzioen logika XX. mendekoa da: bidea egin baino gehiago, bidea urratu egin behar da»"    
[19] "Astigarraga eta Hernanik bisitariei zuzendutako mezua: «Ez da sagardoa, zu zara. Hartu ardura!»"
[20] "Gorrotxategi se postula a las primarias en Podemos sin acuerdo aún con el resto de fuerzas"     
[21] "Esparza dice que la adjudicación de Belate «apesta» y el Gobierno defiende su legalidad"        
[22] "La FNSEA reclama una moratoria en la prohibición de usar pesticidas"                            
[23] "Los bomberos de Donostia acuden al Pleno para denunciar que no han mejorado sus condiciones"    
[24] "LAB denuncia la escasez de uniformes, sábanas y mantas en el hospital de Basurto"               
[25] "Sindicatos se concentran en Gasteiz para pedir que se cumplan las medidas de salud laboral"     
[26] "Gazako biztanleriaren erdia baino gehiago Rafahn pilatuta dago, NBEren arabera"                 
[27] "Gaza: encendamos la luz de la solidaridad"                                                      
[28] "Migrazio legearen alde bozkatu zuten hautetsien argazkiekin afitxak jarri ditu Bizi!k"          
[29] "El juez no descarta el «ánimo homicida» en la causa de Tsunami para evitar la Ley de Amnistía"  
[30] "Las milicias iraquíes proiraníes instan a extender sus ataques al Mediterráneo"                 
[31] "El BCE mantiene los tipos de interés en el 4,5% por tercera vez consecutiva"                    
[32] "Las lentejas, el tocino y la velocidad"                                                         
[33] "Un niño sordo escucha por primera vez tras un innovador tratamiento génico en EEUU"             
[34] "Elurra bezain zuria: ezohiko pinguino bat Antartikan"                                           
[35] "Los hermanos Williams llegan a tiempo y desatan la locura en San Mamés (4-2)"                   
[36] "La AN propone juzgar a Luis Rubiales por el beso «no consentido» a Jenni Hermoso"               
[37] "La Real confirma la cesión del lateral Javi Galán, procedente del Atlético"                     
[38] "Nicolás Alustiza, ilusionado tras sus primeros días como ciclista profesional con el Euskaltel" 
[39] "‘Euskararen baloia’ ekimenaren edizio berriari hasiera eman dio Eibarrek"                       
[40] "Kilian Jornetek eta Zach Millerrek eliteko korrikalariei eskatu diete UTMB-i boikota egitea"    
[41] "Jordan Theodore, tardío regalo navideño que viene para que Baskonia sea mejor equipo"           
[42] "Bilbao Basket ya sabe lo que es perder en Europa y lía un tanto su pase a cuartos (82-80)"      
[43] "«Lokalean bertsioekin jolasean hasi eta disko bat osatzeko erronka bete dugu»"                  
[44] "dFeria cumple 30 años con Italia como país invitado, bajo el lema ‘Utopía’"                     
[45] "Musika Bulegoa: «2023a urte ona izan da zuzeneko musikarentzat»"                                
[46] "‘Ama’ diskoa aurkeztu du Tenpora taldeak, sei abesti berriz osatutako lana"                     
[47] "Isabel Azkaratek artearekin eta sortzaileekin duen harremanaren lekuko da San Telmo"            
[48] "Atzar Hadi! ikuskizuna Oialume Biltokian"                                                       
[49] "Jon Gurrutxaga Marruma Kulturaletan"                                                            
[50] "Letagin eta Nevadah indarrak batuz Ondarrun"                                                    
[51] "Lausoka Txantreako Akelarre elkartean"                                                          
[52] "Musikagaz Fest! jaialdiaren bigarren edizioa egingo dute Zornotzan"                             
[53] "«Erresilientzia ez da presioa jasatea soilik, baizik eta esperientzietatik indartuta ateratzea»"
[54] "Getariatik mundura: Cristobal Balenciaga"                                                       
[55] "«Beldur naiz, akordio zabalen alde, abertzaletasuna alboratzen ari ez ote garen»"               
[56] "Kaiman uharteak; finantzak, hondartzak eta askoz gehiago"                                       
[57] "Zetaren Bideko hirietan zehar"                                                                  
[58] "Urederra, harribitxi urdin turkesa, Urbasa mendilerroan"                                        
[59] "«Lokalean bertsioekin jolasean hasi eta disko bat osatzeko erronka bete dugu»"                  </code></pre>
</div>
</div>
<p>Now we have vector with all the titles of the newspaper of the specific day.</p>
</section>
<section id="activities" class="level2">
<h2 class="anchored" data-anchor-id="activities">5 - Activities</h2>
<p>If you are still</p>
<ul>
<li><p>Try to extract all the links for each title (Tip, use htlm_attr instead and html_text(“href”))</p></li>
<li><p>Try to extract the author of each new, and figure out what is the problem with the lenght of the vector</p></li>
<li><p>Try to extract the lenguage of each new (What news are in basque and wich ones are in spanish? Do it thinking to do it automaticlly)</p></li>
<li><p>Try to save all the data in a data frame, each information of the new for each title</p></li>
</ul>
<p>Thanks for see the article, and share it if you like it.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>