<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Aritz Gorostiza">
<meta name="dcterms.date" content="2022-06-01">
<meta name="description" content="Webscraping">

<title>Aritz Gorostiza - Rvest package fof Web Scraping</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Aritz Gorostiza</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">Aritz Gorostiza</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#ethic-webscraping" id="toc-ethic-webscraping" class="nav-link active" data-scroll-target="#ethic-webscraping">Ethic Webscraping</a>
  <ul class="collapse">
  <li><a href="#first-steps" id="toc-first-steps" class="nav-link" data-scroll-target="#first-steps">First steps</a></li>
  <li><a href="#install-the-library" id="toc-install-the-library" class="nav-link" data-scroll-target="#install-the-library">1 - Install the library</a></li>
  <li><a href="#read-the-page" id="toc-read-the-page" class="nav-link" data-scroll-target="#read-the-page">2 - Read the page</a></li>
  <li><a href="#find-the-css" id="toc-find-the-css" class="nav-link" data-scroll-target="#find-the-css">3 - Find the CSS</a></li>
  <li><a href="#extract-the-titles" id="toc-extract-the-titles" class="nav-link" data-scroll-target="#extract-the-titles">4 - Extract the titles</a>
  <ul class="collapse">
  <li><a href="#tabsets" id="toc-tabsets" class="nav-link" data-scroll-target="#tabsets">3 - Tabsets</a></li>
  </ul></li>
  <li><a href="#columns" id="toc-columns" class="nav-link" data-scroll-target="#columns">2 - Columns</a></li>
  <li><a href="#margin-captions" id="toc-margin-captions" class="nav-link" data-scroll-target="#margin-captions">2 - Margin captions</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Rvest package fof Web Scraping</h1>
  <div class="quarto-categories">
    <div class="quarto-category">123</div>
    <div class="quarto-category">Second Tag</div>
  </div>
  </div>

<div>
  <div class="description">
    Webscraping
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Aritz Gorostiza </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 1, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p><img src="rvest.png" class="img-fluid"></p>
<section id="ethic-webscraping" class="level1 page-columns page-full">
<h1>Ethic Webscraping</h1>
<p>The first thing we have to know is that the web sraping is a automatization of the webpages publiclky avaible information. There is a several legislations about this tecnique, like the <a href="https://gdpr.eu/">GDPR</a> in Europe, in wich is delimeted for the Personal data or Personally Identifiablke Information (PII). So, we have to avoid the problematic question of the scraping personal data of european citizens and if we have to do it, follow the legals questions regarded in the GDPR.</p>
<p>Apart from the legal cuestion, it is impiortant to know that webscraping is technique that relantizes the servers of the companies if we do it very agressivly. Is for this that we have to priorice the APIs (Aplication Programminf Interface) avaiable for the webpages if there are. This aplications are prepared to dowload the information and don’t disturb the normal function of the servers of the webpages.<br>
<br>
Knowing this information, we can start with the first of the 4 packages to webscraping information in R: Rvest.</p>
<section id="first-steps" class="level2">
<h2 class="anchored" data-anchor-id="first-steps">First steps</h2>
<p>The rvest package have his own <a href="https://rvest.tidyverse.org/">website</a> and is avaiable the full documentation in the <a href="https://cran.r-project.org/web/packages/rvest/rvest.pdf">CRAN</a> repository. Is a very easy package to use and to deal with, in wich the principal focus is in the html structure and there csss, tags or Xpaths between others. Lets try to do this easy tutorial with a <a href="https://www.naiz.eus/">naiz.eus</a> webpage and the news that are avaiable.</p>
</section>
<section id="install-the-library" class="level2">
<h2 class="anchored" data-anchor-id="install-the-library">1 - Install the library</h2>
<p>Like always, we need install the pacakge.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"rvest"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The following package(s) will be installed:
- rvest [1.0.3]
These packages will be installed into "~/MEGAsync/Proyectos/Blog_1/renv/library/R-4.1/x86_64-pc-linux-gnu".

# Installing packages --------------------------------------------------------
- Installing rvest ...                          OK [linked from cache]
Successfully installed 1 package in 4.5 milliseconds.</code></pre>
</div>
</div>
<p>Once the package is installed, we need “call” the package to use their functions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="read-the-page" class="level2">
<h2 class="anchored" data-anchor-id="read-the-page">2 - Read the page</h2>
<p>First of all we need to read the page in pur local machine, is for this that we need to use read_html() function to save the html structure in the variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>News_paper <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">"https://www.naiz.eus/"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(News_paper)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{html_document}
&lt;html lang="eu" xml:lang="eu"&gt;
[1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
[2] &lt;body&gt;\n&lt;div data-controller="cookies" data-cookies-content-value="&amp;lt;h2 ...</code></pre>
</div>
</div>
</section>
<section id="find-the-css" class="level2">
<h2 class="anchored" data-anchor-id="find-the-css">3 - Find the CSS</h2>
<p>Like we see, we have the newspaper html structure in our variable. Once this is donne, we need to extract the css responsabile for the titles of the newspaper. For this task we can do it manually, clicking in the right button on the mouse and selecting the “inspect” option we can find manually the common css for all the titles of the articles.</p>
<p><img src="CSS_manually.png" class="img-fluid"> We can see that the common class or css por the articles is article, but if we move the mouse on the articles, we will see that the css us for all the article, no only the title. This way we need to split the article class to see how it the article divided in different classes to see what css is the correct one.</p>
<p><img src="CSS_manually_title.png" class="img-fluid"> Like we see, the css “article__title” is our appropiate css we need to use to extract the title of the article.</p>
<p>Other way to do this more easy, is to install add ons we can use for this task (I use <a href="#0">SelectorHub</a> for Firefox and <a href="#0">Selectorgadget</a> for chrome navigator). This way we can select easier the css we want to dowload. In our case is</p>
</section>
<section id="extract-the-titles" class="level2">
<h2 class="anchored" data-anchor-id="extract-the-titles">4 - Extract the titles</h2>
<p>First of all we have to ensure that our css is apropuiate. For this lets try first to extract the first title. For this, first we have to stablish the csss like a node in wich we want extract and then extract the text of the node we determinate.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>News_paper_title <span class="ot">&lt;-</span> News_paper <span class="sc">%&gt;%</span> <span class="fu">html_node</span>(<span class="st">".article__title"</span>) <span class="sc">%&gt;%</span> <span class="fu">html_text</span>()</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(News_paper_title)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "\n      Un avión militar ruso con 65 presos a bordo, derribado por un misil ucraniano\n      \n    "</code></pre>
</div>
</div>
<p>We can see the the first title of the webpage, lets see if how we can get the second one.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>News_paper_title_second <span class="ot">&lt;-</span> News_paper <span class="sc">%&gt;%</span> <span class="fu">html_node</span>(<span class="st">".article__title:nth-child(2)"</span>) <span class="sc">%&gt;%</span> <span class="fu">html_text</span>()</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(News_paper_title)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "\n      Un avión militar ruso con 65 presos a bordo, derribado por un misil ucraniano\n      \n    "</code></pre>
</div>
</div>
<p>We can access to the “childs” of the css this way.</p>
<p>Now, we want all the titles toguether in one variable. Lets try to find trought the SelectorGadget in google chrome. For this goal we need to find apropiate css selecting with the add on. Once we see all the titles selected, we can try if all is correct with the selected css.</p>
<p><img src="CSS_selector.png" class="img-fluid"></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>News_paper_titles <span class="ot">&lt;-</span> News_paper <span class="sc">%&gt;%</span> <span class="fu">html_nodes</span>(<span class="st">".article__title a"</span>) <span class="sc">%&gt;%</span> <span class="fu">html_text</span>()</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>News_paper_titles</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Un avión militar ruso con 65 presos a bordo, derribado por un misil ucraniano"                                        
 [2] "«Europar Parlamentuan ‘autodefentsa’ deitzen diote Israelen genozidioari»"                                            
 [3] "«A la espera de medidas concretas», los agricultores sellan los accesos a Baiona"                                     
 [4] "Donostiako Auzitegietako laborategia 36ko gerrako desagertuak identifikatzeko erabiliko du EHUk"                      
 [5] "Sexu heziketa, BECen mintzagai: «Denaren errua ez diezaiogun pornoari bota»"                                          
 [6] "\n        Otxandiano defiende el «espacio de colaboración» navarro y que gobierne su fuerza más votada \n        \n"  
 [7] "\n        «Legeak indarrean badaude ez dago ezohiko espetxe politikarik; Gobernuak ez ditu aldatuko»\n        \n"     
 [8] "\n        25 urte pasata eta Geresta tartean sartuta hasi dira epaitzen Zamarreñoren hilketa\n        \n"             
 [9] "\n        Denuncian una agresión sexual en el ámbito laboral a una trabajadora en Agurain\n        \n"                
[10] "Una historia vasca sobre la discriminación en el empleo por razón de convicciones "                                   
[11] "\n        Pablo Gonzalezen atxiloketaren bigarren urteurrenean mobilizazioa egingo dute, otsailaren 28an\n        \n" 
[12] "\n        La Diputación de Gipuzkoa desmiente haber enviado lixiviados «ecotóxicos» a Nafarroa\n        \n"           
[13] "\n        Las Juntas de Araba demandan recuperar las Urgencias de Santiago y San Martín en Gasteiz\n        \n"       
[14] "\n        Gracias\n        \n"                                                                                        
[15] "\n        TikTok ya es la red social más utilizada por los alumnos de las ikastolas navarras \n        \n"            
[16] "Impugnar un sinsentido requiere valentía"                                                                             
[17] "\n        «Eskualdeko hizkuntzetako azterketak egonkortzeko» deia frantziar Hezkuntza ministro berriari\n        \n"  
[18] "\n        Piden que se aplique ya el desamiantado en Nafarroa, porque se juega «con la vida de la gente»\n        \n" 
[19] "\n        Oharkabean\n        \n"                                                                                     
[20] "\n        Lakua «acuerda la rescisión» del contrato de los comedores escolares con Serunion \n        \n"             
[21] "\n        Más de 4.500 estudiantes y 230 profesores muertos desde el inicio del ataque de Israel a Gaza\n        \n"  
[22] "\n        El Gobierno español no envía al juez los documentos requeridos sobre el espionaje a Aragonès\n        \n"   
[23] "\n        Vuelos cancelados, bancos cerrados y una multitud frente al Congreso contra los planes de Milei\n        \n"
[24] "\n        La obra para soterrar el Topo entre Altza y Errenteria alcanza su ecuador\n        \n"                      
[25] "Lenin gogoan"                                                                                                         
[26] "\n        ‘Energiaren puntua’ sortu du D2030 ekimenak, energia komunitateak sustatzeko bulegoa \n        \n"          
[27] "\n        El autobús del Athletic llega a San Mamés impulsado por la afición rojiblanca\n        \n"                  
[28] "\n        La Real confirma la cesión del lateral Javi Galán, procedente del Atlético\n        \n"                     
[29] "\n        Arrasate no podrá contar con Chimy Ávila para el duelo del domingo en el Pizjuán\n        \n"               
[30] "\n        Palestinako futbol selekzioak historia egin du, Asia Kopako final-zortzinenetarako sailkatuta\n        \n"  
[31] "\n        El atacante Abde Rebbach prolonga cuatro años más su contrato con el Alavés, hasta 2028\n        \n"        
[32] "\n        ‘Euskararen baloia’ ekimenaren edizio berriari hasiera eman dio Eibarrek\n        \n"                       
[33] "\n        Kilian Jornetek eta Zach Millerrek eliteko korrikalariei eskatu diete UTMB-i boikota egitea\n        \n"    
[34] "\n        Bilbao Basket ya sabe lo que es perder en Europa y lía un tanto su pase a cuartos (82-80)\n        \n"      
[35] "\n        Saski Baskonia se hace con Jordan Theodore, al fin el segundo base que se buscaba\n        \n"              
[36] "\n        ‘Robot Dreams’, de Berger, entra en unas nominaciones a los Óscar lideradas por ‘Oppenheimer’\n        \n"  
[37] "\n        ‘Ama’ diskoa aurkeztu du Tenpora taldeak, sei abesti berriz osatutako lana\n        \n"                     
[38] "\n        AEBetako western garaikidea du aztergai Nosferatu bildumako argitalpen berriak\n        \n"                 
[39] "\n        Primeras secuencias de ‘Detective Touré’, la serie basada en las novelas de Jon Arretxe\n        \n"        
[40] "\n        Hego Euskal Herriko zinema komertzialetan euskararen presentzia oso urria da: %2,48\n        \n"            
[41] "\n        «Erresilientzia ez da presioa jasatea soilik, baizik eta esperientzietatik indartuta ateratzea»\n        \n"
[42] "\n        Getariatik mundura: Cristobal Balenciaga\n        \n"                                                       
[43] "\n        «Beldur naiz, akordio zabalen alde, abertzaletasuna alboratzen ari ez ote garen»\n        \n"               
[44] "\n        Zetaren Bideko hirietan zehar\n        \n"                                                                  
[45] "\n        Urederra, harribitxi urdin turkesa, Urbasa mendilerroan\n        \n"                                        
[46] "\n        Palermo, Siziliaren sintesia\n        \n"                                                                   
[47] "\n        Zineman euskarak ez du ia tokirik, %2,48 Hego Euskal Herrian\n        \n"                                   </code></pre>
</div>
</div>
<p>Now we can use one of multiples packages avaible to clean the text, but to do it simple, we can do it ease witn the function gsub()-</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>News_paper_titles <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">        </span><span class="sc">\n</span><span class="st">|</span><span class="sc">\n</span><span class="st">        "</span>,<span class="st">""</span>,News_paper_titles)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>News_paper_titles</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Un avión militar ruso con 65 presos a bordo, derribado por un misil ucraniano"                  
 [2] "«Europar Parlamentuan ‘autodefentsa’ deitzen diote Israelen genozidioari»"                      
 [3] "«A la espera de medidas concretas», los agricultores sellan los accesos a Baiona"               
 [4] "Donostiako Auzitegietako laborategia 36ko gerrako desagertuak identifikatzeko erabiliko du EHUk"
 [5] "Sexu heziketa, BECen mintzagai: «Denaren errua ez diezaiogun pornoari bota»"                    
 [6] "Otxandiano defiende el «espacio de colaboración» navarro y que gobierne su fuerza más votada "  
 [7] "«Legeak indarrean badaude ez dago ezohiko espetxe politikarik; Gobernuak ez ditu aldatuko»"     
 [8] "25 urte pasata eta Geresta tartean sartuta hasi dira epaitzen Zamarreñoren hilketa"             
 [9] "Denuncian una agresión sexual en el ámbito laboral a una trabajadora en Agurain"                
[10] "Una historia vasca sobre la discriminación en el empleo por razón de convicciones "             
[11] "Pablo Gonzalezen atxiloketaren bigarren urteurrenean mobilizazioa egingo dute, otsailaren 28an" 
[12] "La Diputación de Gipuzkoa desmiente haber enviado lixiviados «ecotóxicos» a Nafarroa"           
[13] "Las Juntas de Araba demandan recuperar las Urgencias de Santiago y San Martín en Gasteiz"       
[14] "Gracias"                                                                                        
[15] "TikTok ya es la red social más utilizada por los alumnos de las ikastolas navarras "            
[16] "Impugnar un sinsentido requiere valentía"                                                       
[17] "«Eskualdeko hizkuntzetako azterketak egonkortzeko» deia frantziar Hezkuntza ministro berriari"  
[18] "Piden que se aplique ya el desamiantado en Nafarroa, porque se juega «con la vida de la gente»" 
[19] "Oharkabean"                                                                                     
[20] "Lakua «acuerda la rescisión» del contrato de los comedores escolares con Serunion "             
[21] "Más de 4.500 estudiantes y 230 profesores muertos desde el inicio del ataque de Israel a Gaza"  
[22] "El Gobierno español no envía al juez los documentos requeridos sobre el espionaje a Aragonès"   
[23] "Vuelos cancelados, bancos cerrados y una multitud frente al Congreso contra los planes de Milei"
[24] "La obra para soterrar el Topo entre Altza y Errenteria alcanza su ecuador"                      
[25] "Lenin gogoan"                                                                                   
[26] "‘Energiaren puntua’ sortu du D2030 ekimenak, energia komunitateak sustatzeko bulegoa "          
[27] "El autobús del Athletic llega a San Mamés impulsado por la afición rojiblanca"                  
[28] "La Real confirma la cesión del lateral Javi Galán, procedente del Atlético"                     
[29] "Arrasate no podrá contar con Chimy Ávila para el duelo del domingo en el Pizjuán"               
[30] "Palestinako futbol selekzioak historia egin du, Asia Kopako final-zortzinenetarako sailkatuta"  
[31] "El atacante Abde Rebbach prolonga cuatro años más su contrato con el Alavés, hasta 2028"        
[32] "‘Euskararen baloia’ ekimenaren edizio berriari hasiera eman dio Eibarrek"                       
[33] "Kilian Jornetek eta Zach Millerrek eliteko korrikalariei eskatu diete UTMB-i boikota egitea"    
[34] "Bilbao Basket ya sabe lo que es perder en Europa y lía un tanto su pase a cuartos (82-80)"      
[35] "Saski Baskonia se hace con Jordan Theodore, al fin el segundo base que se buscaba"              
[36] "‘Robot Dreams’, de Berger, entra en unas nominaciones a los Óscar lideradas por ‘Oppenheimer’"  
[37] "‘Ama’ diskoa aurkeztu du Tenpora taldeak, sei abesti berriz osatutako lana"                     
[38] "AEBetako western garaikidea du aztergai Nosferatu bildumako argitalpen berriak"                 
[39] "Primeras secuencias de ‘Detective Touré’, la serie basada en las novelas de Jon Arretxe"        
[40] "Hego Euskal Herriko zinema komertzialetan euskararen presentzia oso urria da: %2,48"            
[41] "«Erresilientzia ez da presioa jasatea soilik, baizik eta esperientzietatik indartuta ateratzea»"
[42] "Getariatik mundura: Cristobal Balenciaga"                                                       
[43] "«Beldur naiz, akordio zabalen alde, abertzaletasuna alboratzen ari ez ote garen»"               
[44] "Zetaren Bideko hirietan zehar"                                                                  
[45] "Urederra, harribitxi urdin turkesa, Urbasa mendilerroan"                                        
[46] "Palermo, Siziliaren sintesia"                                                                   
[47] "Zineman euskarak ez du ia tokirik, %2,48 Hego Euskal Herrian"                                   </code></pre>
</div>
</div>
<p>Lets complciate the work I little bit more. Lets try now to extract the urls for each new and the autor of the articles in the newsdpaper. Same as before, we try to find manually and by the gadget the article author.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>News_paper_authors <span class="ot">&lt;-</span> News_paper <span class="sc">%&gt;%</span> <span class="fu">html_nodes</span>(<span class="st">".article__author"</span>) <span class="sc">%&gt;%</span> <span class="fu">html_text</span>()</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>News_paper_authors</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "NAIZ"                                                                                                                                                                                                                                                                                                   
 [2] "Koldo Sagasti"                                                                                                                                                                                                                                                                                          
 [3] "Maite Ubiria"                                                                                                                                                                                                                                                                                           
 [4] "Maddi Txintxurreta"                                                                                                                                                                                                                                                                                     
 [5] "Nerea Lauzirika"                                                                                                                                                                                                                                                                                        
 [6] "Ramón Sola"                                                                                                                                                                                                                                                                                             
 [7] "Peli Lekuona"                                                                                                                                                                                                                                                                                           
 [8] "NAIZ"                                                                                                                                                                                                                                                                                                   
 [9] "NAIZ"                                                                                                                                                                                                                                                                                                   
[10] "\n      Iñigo Santxo, Eli Moral, Arantza Isasmendi, Bea Ilardia, Sergey Aresti, Mirian Campos, Alfonso Atela, Ziortza Arrien, Iñigo Urrutia, Bego Atxa, Joxean Lozano, Idoia Gutierrez, Jon Artatxo, Endika Garai y Xabier Sainz de la Maza  \n      Erabakizaleak, juristas por el derecho a decidir\n"
[11] "NAIZ"                                                                                                                                                                                                                                                                                                   
[12] "Iñaki  Iriondo"                                                                                                                                                                                                                                                                                         
[13] "NAIZ"                                                                                                                                                                                                                                                                                                   
[14] "\n      Koldo Campos\n    "                                                                                                                                                                                                                                                                             
[15] "Koldo Campos"                                                                                                                                                                                                                                                                                           
[16] "Aritz Intxusta"                                                                                                                                                                                                                                                                                         
[17] "Editoriala"                                                                                                                                                                                                                                                                                             
[18] "NAIZ"                                                                                                                                                                                                                                                                                                   
[19] "Pello Guerra"                                                                                                                                                                                                                                                                                           
[20] "\n      Maider Eizmendi\n    "                                                                                                                                                                                                                                                                          
[21] "Maider Eizmendi"                                                                                                                                                                                                                                                                                        
[22] "NAIZ"                                                                                                                                                                                                                                                                                                   
[23] "NAIZ"                                                                                                                                                                                                                                                                                                   
[24] "NAIZ"                                                                                                                                                                                                                                                                                                   
[25] "NAIZ"                                                                                                                                                                                                                                                                                                   
[26] "Imanol Intziarte"                                                                                                                                                                                                                                                                                       
[27] "\n      Andoni Olariaga Azkarate \n      Iratzar fundazioko kidea\n"                                                                                                                                                                                                                                    
[28] "NAIZ"                                                                                                                                                                                                                                                                                                   
[29] "Manex Altuna"                                                                                                                                                                                                                                                                                           
[30] "NAIZ"                                                                                                                                                                                                                                                                                                   
[31] "NAIZ"                                                                                                                                                                                                                                                                                                   
[32] "NAIZ"                                                                                                                                                                                                                                                                                                   
[33] "NAIZ"                                                                                                                                                                                                                                                                                                   
[34] "Amaia  U. Lasagabaster"                                                                                                                                                                                                                                                                                 
[35] "NAIZ"                                                                                                                                                                                                                                                                                                   
[36] "Arnaitz Gorriti"                                                                                                                                                                                                                                                                                        
[37] "Arnaitz Gorriti"                                                                                                                                                                                                                                                                                        
[38] "Koldo Landaluze"                                                                                                                                                                                                                                                                                        
[39] "Iraitz Mateo"                                                                                                                                                                                                                                                                                           
[40] "NAIZ"                                                                                                                                                                                                                                                                                                   
[41] "Koldo Landaluze"                                                                                                                                                                                                                                                                                        
[42] "Iraitz Mateo"                                                                                                                                                                                                                                                                                           
[43] "Bigarren Kafea"                                                                                                                                                                                                                                                                                         
[44] "NAIZ irratia"                                                                                                                                                                                                                                                                                           
[45] "NAIZ irratia"                                                                                                                                                                                                                                                                                           
[46] "Testua: Juanma COSTOYA Argazkiak: J.C. eta Getty Images"                                                                                                                                                                                                                                                
[47] "Testua: Eli Txapartegi. Argazkiak: Getty Images"                                                                                                                                                                                                                                                        
[48] "Testua eta argazkiak: Xabier BAÑUELOS"                                                                                                                                                                                                                                                                  
[49] "IRAITZ MATEO"                                                                                                                                                                                                                                                                                           </code></pre>
</div>
</div>
<section id="tabsets" class="level3">
<h3 class="anchored" data-anchor-id="tabsets">3 - Tabsets</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Transforming OLS estimates</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Maximizing likelihood</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>preds_lm <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(body_mass_g, bill_length_mm, <span class="at">col =</span> correct)) <span class="sc">+</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(species)) <span class="sc">+</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">'grey60'</span>, thematic<span class="sc">::</span><span class="fu">okabe_ito</span>(<span class="dv">3</span>)[<span class="dv">3</span>])) <span class="sc">+</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">3000</span>, <span class="dv">6000</span>, <span class="dv">1000</span>)) <span class="sc">+</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">'top'</span>, </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">'black'</span>),</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">'Body mass (in g)'</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">'Bill length (in mm)'</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="rvest_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>glm.mod <span class="ot">&lt;-</span> <span class="fu">glm</span>(sex <span class="sc">~</span> body_mass_g <span class="sc">+</span> bill_length_mm <span class="sc">+</span> species, <span class="at">family =</span> binomial, <span class="at">data =</span> dat)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>preds <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">prob.fit =</span> glm.mod<span class="sc">$</span>fitted.values,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">prediction =</span> <span class="fu">if_else</span>(prob.fit <span class="sc">&gt;</span> <span class="fl">0.5</span>, <span class="st">'male'</span>, <span class="st">'female'</span>),</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">correct =</span> <span class="fu">if_else</span>(sex <span class="sc">==</span> prediction, <span class="st">'correct'</span>, <span class="st">'incorrect'</span>)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>preds <span class="sc">%&gt;%</span> </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(body_mass_g, bill_length_mm, <span class="at">col =</span> correct)) <span class="sc">+</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(species)) <span class="sc">+</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">3000</span>, <span class="dv">6000</span>, <span class="dv">1000</span>)) <span class="sc">+</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">'grey60'</span>, thematic<span class="sc">::</span><span class="fu">okabe_ito</span>(<span class="dv">3</span>)[<span class="dv">3</span>])) <span class="sc">+</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">'top'</span>, </span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">'black'</span>),</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">'Body mass (in g)'</span>,</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">'Bill length (in mm)'</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="rvest_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
<section id="some-math-stuff" class="level4">
<h4 class="anchored" data-anchor-id="some-math-stuff">4 - Some math stuff</h4>
<p><span class="math display">\[
\int_0^1 f(x) \ dx
\]</span></p>
</section>
</section>
</section>
<section id="columns" class="level2">
<h2 class="anchored" data-anchor-id="columns">2 - Columns</h2>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" data-fig.showtext="false" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_density</span>(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">mapping =</span> <span class="cn">NULL</span>,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> <span class="cn">NULL</span>,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">stat =</span> <span class="st">"density"</span>,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">position =</span> <span class="st">"identity"</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  ...,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.rm =</span> <span class="cn">FALSE</span>,</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">orientation =</span> <span class="cn">NA</span>,</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">show.legend =</span> <span class="cn">NA</span>,</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">inherit.aes =</span> <span class="cn">TRUE</span>,</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">outline.type =</span> <span class="st">"upper"</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell quarto-layout-cell" data-fig.showtext="false" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stat_density</span>(</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">mapping =</span> <span class="cn">NULL</span>,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> <span class="cn">NULL</span>,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">geom =</span> <span class="st">"area"</span>,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">position =</span> <span class="st">"stack"</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  ...,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">bw =</span> <span class="st">"nrd0"</span>,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">adjust =</span> <span class="dv">1</span>,</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">kernel =</span> <span class="st">"gaussian"</span>,</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="dv">512</span>,</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">trim =</span> <span class="cn">FALSE</span>,</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.rm =</span> <span class="cn">FALSE</span>,</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">orientation =</span> <span class="cn">NA</span>,</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">show.legend =</span> <span class="cn">NA</span>,</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">inherit.aes =</span> <span class="cn">TRUE</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="margin-captions" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="margin-captions">2 - Margin captions</h2>
<div class="cell page-columns page-full" data-fig.showtext="false">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder<span class="sc">::</span>gapminder, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> lifeExp, <span class="at">fill =</span> continent)) <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_density</span>(<span class="at">position =</span> <span class="st">"identity"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display page-columns page-full">
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="rvest_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption margin-caption">Bla bla bla. This is a caption in the margin. Super cool isn’t it?</figcaption>
</figure>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>